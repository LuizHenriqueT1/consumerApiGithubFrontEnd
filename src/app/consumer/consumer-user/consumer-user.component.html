<div *ngIf="consumerUsers$ | async as dataSource; else loading">
  <section class="example-table mat-elevation-z8 section-table" tabindex="0">
    <table class="table" mat-table [dataSource]="dataSources">
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef>#ID</th>
        <td mat-cell *matCellDef="let user">{{ user.id }}</td>
      </ng-container>

      <ng-container matColumnDef="login">
        <th mat-header-cell *matHeaderCellDef>Login</th>
        <td mat-cell *matCellDef="let user">{{ user.login }}</td>
      </ng-container>

      <ng-container matColumnDef="url">
        <th mat-header-cell *matHeaderCellDef>URL</th>
        <td mat-cell *matCellDef="let user">{{ user.html_url }}</td>
      </ng-container>

      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let user">
          <button
            mat-raised-button
            color="primary"
            (click)="onDetails(user.login)"
          >
            Details
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    <mat-paginator
    [length]="totalItems"
    [pageSize]="pageSize"
    [pageIndex]="pageIndex"
    (page)="onPageChange($event)"
    [pageSizeOptions]="[5, 10, 25, 50, 100]"
    aria-label="Select page"
    >
    </mat-paginator>
  </section>
</div>
<ng-template #loading>
  <app-loader></app-loader>
</ng-template>
